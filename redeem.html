<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡πÅ‡∏•‡∏Å‡πÄ‡∏á‡∏¥‡∏ô</title>

<style>
body{
  font-family:sans-serif;
  background:#f4f1ff;
  margin:0;
}
.header{
  background:#6a00ff;
  color:#fff;
  padding:20px;
  text-align:center;
}
.container{
  max-width:380px;
  margin:12px auto;
  padding:12px;
}
.card{
  background:#fff;
  border-radius:18px;
  padding:16px;
  margin-bottom:12px;
  box-shadow:0 10px 24px rgba(0,0,0,.08);
}
.btn{
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  background:#6a00ff;
  color:#fff;
  font-size:16px;
  font-weight:600;
}
.status{
  padding:12px;
  border-radius:12px;
  text-align:center;
  margin-top:10px;
}
.wait{ background:#fff3cd; color:#856404; }
.done{ background:#d4edda; color:#155724; }
a{ text-decoration:none; }
</style>
</head>

<body>

<div class="header">
  <h2>üí∏ ‡πÅ‡∏•‡∏Å‡πÄ‡∏á‡∏¥‡∏ô</h2>
</div>

<div class="container">

  <div class="card" style="text-align:center">
    <p>‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
    <h1 id="point">0</h1>
  </div>

  <div class="card">
    <h3>‡πÅ‡∏•‡∏Å‡πÄ‡∏á‡∏¥‡∏ô 1 ‡∏ö‡∏≤‡∏ó</h3>
    <p>‡πÉ‡∏ä‡πâ 10 ‡πÅ‡∏ï‡πâ‡∏°</p>
    <button class="btn" onclick="redeem(10)">‡πÅ‡∏•‡∏Å‡πÄ‡∏á‡∏¥‡∏ô</button>
  </div>

  <div id="statusBox"></div>

  <div class="card" style="text-align:center">
    <a href="./">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∞‡∏™‡∏°‡πÅ‡∏ï‡πâ‡∏°</a>
  </div>

</div>

<script>
let point = parseInt(localStorage.getItem("point")) || 0;
let status = localStorage.getItem("redeemStatus") || "";

document.getElementById("point").innerText = point;
renderStatus();

function redeem(cost){
  if(point < cost){
    alert("‡πÅ‡∏ï‡πâ‡∏°‡πÑ‡∏°‡πà‡∏û‡∏≠ ‚ùå");
    return;
  }

  point -= cost;
  localStorage.setItem("point", point);

  localStorage.setItem("redeemStatus", "‡∏£‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÇ‡∏≠‡∏ô");
  status = "‡∏£‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÇ‡∏≠‡∏ô";

  document.getElementById("point").innerText = point;
  renderStatus();

  window.location.href =
  "https://docs.google.com/forms/d/e/1FAIpQLSd1uuTnjNCnICCgq1-5wUgkTj3MGl3jtnxotaSs_nsF3RtKzg/viewform";
}

function renderStatus(){
  const box = document.getElementById("statusBox");
  if(!status) return;

  if(status === "‡∏£‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÇ‡∏≠‡∏ô"){
    box.innerHTML = `<div class="status wait">‚è≥ ‡∏£‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÇ‡∏≠‡∏ô</div>`;
  }

  if(status === "‡πÇ‡∏≠‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"){
    box.innerHTML = `<div class="status done">‚úÖ ‡πÇ‡∏≠‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</div>`;
  }
}
</script>

</body>
</html>
